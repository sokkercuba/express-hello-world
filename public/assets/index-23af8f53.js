import{r as e,j as t,a as r,C as n,b as o,B as a,A as i,d as l,T as s,c,F as d,e as h,L as u,G as p,f as g,g as m,h as f,i as y,I as x,M as b,k as w,D as v,l as S,m as k,n as E,o as C,s as _,p as P,q as T,t as I,u as z,v as L,w as R,x as O,y as A,z as D,S as j,E as F,H as N,R as M,J as U,N as B,K as W,O as G,P as $,Q as q,U as H}from"./vendor-12af30a3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const V={},X=function(e,t,r){if(!t||0===t.length)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in V)return;V[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(!!r)for(let r=n.length-1;r>=0;r--){const o=n[r];if(o.href===e&&(!t||"stylesheet"===o.rel))return}else if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((t,r)=>{a.addEventListener("load",t),a.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))};var Y=(e=>(e.SET_ERROR="set-error",e.SET_LOGIN="set-login",e.SET_USER="set-user",e.SET_USERNAME="set-username",e.SET_LOADING="set-loading",e.SET_PLAYERS="set-players",e.SET_JUNIORS="set-juniors",e))(Y||{});const J={error:"",username:"",user:null,loggedIn:!1,loading:!1,playersData:[],juniorsData:[]};function K(e=J,t){switch(t.type){case"set-error":return{...e,error:t.payload};case"set-username":return{...e,username:t.payload};case"set-login":return{...e,loggedIn:t.payload};case"set-user":return{...e,user:t.payload};case"set-loading":return{...e,loading:t.payload};case"set-players":return{...e,playersData:t.payload};case"set-juniors":return{...e,juniorsData:t.payload};default:return e}}const Q=e.createContext({state:J,dispatch:()=>null}),Z=({children:r})=>{const[n,o]=e.useReducer(K,J);return t(Q.Provider,{value:{state:n,dispatch:o},children:r})},ee=(e,t)=>{e({type:Y.SET_ERROR,payload:t})},te=(e,t)=>{console.log("ðŸš€ ~ action setUsername:"),console.log("ðŸš€ ~ payload:",t),e({type:Y.SET_USERNAME,payload:t})},re=(e,t)=>{console.log("ðŸš€ ~ action setLogin:"),console.log("ðŸš€ ~ payload:",t),e({type:Y.SET_LOGIN,payload:t})},ne=(e,t)=>e({type:Y.SET_LOADING,payload:t}),oe="application/json",ae=r.create({baseURL:"/api/v1",headers:{Accept:oe,"Content-Type":oe,"X-Forwarded-Host":"https://sokker.org"}}),ie=(e,t)=>ae.post("/login",e,{headers:{"X-Forwarded-For":`${t}, https://sokker.org`}}),le=(e,t)=>ae.get("/logout",{params:{login:e},headers:{"X-Forwarded-For":`${t}, https://sokker.org`}}),se=async()=>(await r.get("https://geolocation-db.com/json/")).data.IPv4;function ce(){const[t,r]=e.useState("");return console.log("ðŸš€ ~ ip:",t),e.useEffect((()=>{(async()=>{const e=await se();r(e)})()}),[t]),t}function de(){const{state:r,dispatch:m}=e.useContext(Q),{loading:f}=r,y=ce(),[x,b]=e.useState(!1);e.useEffect((()=>{console.log("ðŸš€ ~ state:",r)}),[r]);return t(n,{component:"main",maxWidth:"xs",children:o(a,{sx:{marginTop:8,display:"flex",alignItems:"center",flexDirection:"column"},children:[t(i,{sx:{m:1,bgcolor:"secondary.main"},children:t(l,{})}),t(s,{component:"h1",variant:"h5",children:"Sign in"}),o(a,{component:"form",onSubmit:async e=>{e.preventDefault();const t=new FormData(e.currentTarget);ne(m,!0);const r=await ie({login:t.get("email"),password:t.get("password"),remember:x},y);ne(m,!1);const{status:n,statusText:o,data:a}=r.data||null;console.log("ðŸš€ ~ status:",n),console.log("ðŸš€ ~ status:",typeof n),console.log("ðŸš€ ~ response:",r),200===n?(re(m,!0),te(m,a||"")):ee(m,(null==a?void 0:a.error)||o)},noValidate:!0,sx:{mt:1},children:[t(c,{required:!0,fullWidth:!0,autoFocus:!0,id:"email",name:"email",margin:"normal",label:"Email Address",autoComplete:"email"}),t(c,{required:!0,fullWidth:!0,id:"password",margin:"normal",name:"password",type:"password",label:"Password",autoComplete:"current-password"}),t(d,{label:"Remember me",control:t(h,{color:"primary",checked:x,onChange:e=>{b(e.target.checked)}})}),t(u,{fullWidth:!0,type:"submit",loading:f,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),o(p,{container:!0,children:[t(p,{item:!0,xs:!0,children:t(g,{href:"https://sokker.org/en/app/reset-password/",variant:"body2",children:"Forgot password?"})}),t(p,{item:!0,children:t(g,{href:"https://sokker.org/en/app/register/",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})})}function he(){return o(s,{variant:"body2",color:"text.secondary",children:["Copyright Â© ",t(g,{color:"inherit",href:"https://mui.com/",children:"Sokker Cuba"})," ",(new Date).getFullYear(),"."]})}function ue(){return o(a,{sx:{mt:"auto",width:"100%",display:"flex",flexDirection:"column"},children:[t(n,{component:"main",sx:{my:8},maxWidth:"sm",children:t(a,{sx:{display:"flex",justifyContent:"center"},children:t(s,{variant:"h2",component:"h1",gutterBottom:!0,children:"Footer"})})}),t(a,{component:"footer",sx:{py:3,px:2,mt:"auto",backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[800]},children:o(n,{maxWidth:"sm",children:[t(s,{variant:"body1",children:"La vieja escuela del Sokker Cubano! Dudas, Consultas, pregunte sin pena! Si desea aÃ±adir a alguien pase el link del grupo."}),t(he,{})]})})]})}const pe={}.API_USER,ge={}.API_PASSW;function me(){const{state:r,dispatch:n}=e.useContext(Q),{username:l}=r,c=ce(),[d,h]=e.useState(null),u=Boolean(d),p=()=>{h(null)};return o(f,{children:[o(a,{sx:{ml:"8px",display:"flex",textAlign:"center",alignItems:"center"},children:[o(s,{variant:"h6",component:"div",sx:{flexGrow:1},children:["Hello ",l]}),t(y,{title:"Account settings",children:t(x,{onClick:e=>{h(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":u?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":u?"true":void 0,children:t(i,{sx:{width:32,height:32},children:"M"})})})]}),o(b,{anchorEl:d,id:"account-menu",open:u,onClose:p,onClick:p,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[o(w,{onClick:p,children:[t(i,{})," Profile"]}),o(w,{onClick:p,children:[t(i,{})," My account"]}),t(v,{}),o(w,{onClick:p,children:[t(S,{children:t(k,{fontSize:"small"})}),"Add another account"]}),o(w,{onClick:p,children:[t(S,{children:t(E,{fontSize:"small"})}),"Settings"]}),o(w,{onClick:async()=>{h(null),ne(n,!0);const e=await le(l,c);ne(n,!1),console.log("ðŸš€ ~ handleLogoutData:",e);const{status:t,statusText:r,data:o}=e;200===t?(re(n,!1),te(n,"")):ee(n,(null==o?void 0:o.error)||r)},children:[t(S,{children:t(C,{fontSize:"small"})}),"Logout"]})]})]})}m.Buffer.from(pe+":"+ge).toString("base64"),_("div")((({theme:e})=>({padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}))),_(P)((({theme:e})=>({color:"inherit","& .MuiInputBase-input":{padding:e.spacing(1,1,1,0),paddingLeft:`calc(1em + ${e.spacing(4)})`,transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("md")]:{width:"20ch"}}})));const fe=()=>{const{state:r}=e.useContext(Q),{loggedIn:n}=r,[i,l]=e.useState(null),[c,d]=e.useState(null),h=Boolean(i),u=Boolean(c),p=()=>{d(null)},g=()=>{l(null),p()},m=o(b,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:g,children:[t(w,{onClick:g,children:"Profile"}),t(w,{onClick:g,children:"My account"})]}),y="primary-search-account-menu-mobile",v=o(b,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:y,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:p,children:[o(w,{children:[t(x,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:t(L,{badgeContent:4,color:"error",children:t(R,{})})}),t("p",{children:"Messages"})]}),o(w,{children:[t(x,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:t(L,{badgeContent:17,color:"error",children:t(O,{})})}),t("p",{children:"Notifications"})]}),o(w,{onClick:e=>{l(e.currentTarget)},children:[t(x,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:t(D,{})}),t("p",{children:"Profile"})]})]});return o(a,{sx:{flexGrow:1},children:[t(T,{position:"static",children:o(I,{children:[t(x,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",sx:{mr:2},children:t(z,{})}),t(s,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:"Sokker Cuba"}),t(a,{sx:{flexGrow:1}}),n&&o(f,{children:[o(a,{sx:{display:{xs:"none",md:"flex"}},children:[t(x,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:t(L,{badgeContent:4,color:"error",children:t(R,{})})}),t(x,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:t(L,{badgeContent:17,color:"error",children:t(O,{})})}),t(me,{})]}),t(a,{sx:{display:{xs:"flex",md:"none"}},children:t(x,{size:"large","aria-label":"show more","aria-controls":y,"aria-haspopup":"true",onClick:e=>{d(e.currentTarget)},color:"inherit",children:t(A,{})})})]})]})}),v,m]})},ye=()=>o(j,{spacing:1,children:[t(F,{variant:"text",sx:{fontSize:"1rem"}}),o(a,{sx:{display:"flex",justifyContent:"space-between"},children:[t(F,{variant:"circular",width:40,height:40}),t(F,{variant:"circular",width:40,height:40})]}),t(F,{variant:"rectangular",width:210,height:60}),t(F,{variant:"rounded",width:210,height:60})]}),xe=()=>{const r=ce(),{state:n,dispatch:o}=e.useContext(Q);return console.log("ðŸš€ ~ HomePage state:",n),e.useEffect((()=>{r&&(async()=>{ne(o,!0);const e=await(e=>ae.get("/current",{headers:{"X-Forwarded-For":`${e}, https://sokker.org`}}))(r);console.log("ðŸš€ ~ getUserData response:",e),ne(o,!1);const{status:t,statusText:n,data:a}=e;200===t?((e,t)=>{e({type:Y.SET_USER,payload:t})})(o,a):ee(o,(null==a?void 0:a.error)||n)})()}),[r]),t("div",{children:"Hello HomePage"})},be=()=>{const{state:r}=e.useContext(Q),{loggedIn:n}=r;return console.log("ðŸš€ ~ LoginRequired loggedIn:",n),t(n?xe:de,{})},we=e.lazy((()=>X((()=>import("./AboutPage-813fb07e.js")),["assets/AboutPage-813fb07e.js","assets/vendor-12af30a3.js"]))),ve=e.lazy((()=>X((()=>import("./ContactPage-4de02acb.js")),["assets/ContactPage-4de02acb.js","assets/vendor-12af30a3.js"]))),Se=e.lazy((()=>X((()=>import("./NotFoundPage-99ac996d.js")),["assets/NotFoundPage-99ac996d.js","assets/vendor-12af30a3.js"]))),ke=({children:r})=>t(e.Suspense,{fallback:t(ye,{}),children:r}),Ee=()=>o(N,{children:[t(fe,{}),t(a,{sx:{display:"flex",flexDirection:"column",height:"100vh"},children:o(M,{children:[t(U,{path:"/",element:t(be,{})}),t(U,{path:"/about",element:t(ke,{children:t(we,{})})}),t(U,{path:"/contact",element:t(ke,{children:t(ve,{})})}),t(U,{path:"/404",element:t(ke,{children:t(Se,{})})}),t(U,{path:"*",element:t(B,{to:"/404"})})]})}),t(ue,{})]}),Ce=W(),_e=()=>t(Z,{children:o(G,{theme:Ce,children:[t($,{}),t(Ee,{})]})});q.createRoot(document.getElementById("root")).render(t(H.StrictMode,{children:t(_e,{})}));

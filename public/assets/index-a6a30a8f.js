import{r as a,u as e,a as n,v as s,j as o,p as r,A as t,ad as i,T as d,U as l,ae as c,af as m,I as p,ag as u,ah as h,N as g,ak as f,s as w,e as b}from"./vendor-15700094.js";import{A as x,h as y}from"./index-5b4c1856.js";function v(){const{dispatch:v}=a.useContext(x),C=e(),[S,W]=a.useState(!1),[D,P]=a.useState(!1);return n(s,{component:"main",maxWidth:"xs",children:o(r,{sx:{marginTop:8,display:"flex",alignItems:"center",flexDirection:"column"},children:[n(t,{sx:{m:1,bgcolor:"secondary.main"},children:n(i,{})}),n(d,{component:"h1",variant:"h5",children:"Sign Up"}),o(r,{component:"form",onSubmit:async a=>{a.preventDefault();const e=new FormData(a.currentTarget),n=e.get("login"),s=e.get("password");if(s!==e.get("confirmpassword"))return void W(!0);const o=await y("/api/auth/v1/signup","POST",v,{login:n,password:s}),{error:r,status:t}=o;r||200!==t||(b("Your user has been successfully created.",{variant:"success"}),C("/login"))},sx:{mt:1,width:"100%"},children:[o(l,{fullWidth:!0,children:[n(c,{required:!0,fullWidth:!0,autoFocus:!0,id:"login",name:"login",margin:"normal",label:"Username",autoComplete:"Username"}),n(c,{required:!0,fullWidth:!0,id:"password",margin:"normal",name:"password",type:"password",label:"Password",autoComplete:"password"}),n(c,{required:!0,fullWidth:!0,error:S,margin:"normal",id:"confirmpassword",name:"confirmpassword",label:"Confirm Password",autoComplete:"password",onFocus:()=>W(!1),type:D?"text":"password",sx:{backgroundColor:"rgb(232,240,254)"},helperText:S?"Passwords did not match":"",InputProps:{endAdornment:n(m,{position:"end",children:n(p,{edge:"end",onClick:()=>P((a=>!a)),onMouseDown:a=>{a.preventDefault()},"aria-label":"toggle password visibility",children:n(D?u:h,{})})})}})]}),n(g,{fullWidth:!0,type:"submit",variant:"contained",sx:{mt:3,mb:2},children:"Sign Me Up"})]}),n(f,{container:!0,children:o(f,{item:!0,typography:"body2",children:["Already have an account?"," ",n(w,{variant:"body1",component:"button",onClick:()=>C("/login"),children:"Sign In"})]})})]})})}export{v as default};

import{r as e,j as t,a as r,C as n,b as a,B as o,A as i,d as l,T as s,c,F as d,e as h,L as u,G as p,f as m,g,h as f,i as y,I as x,M as b,k as w,D as v,l as S,m as k,n as E,o as C,s as _,p as T,q as P,t as I,u as O,v as z,w as R,x as A,y as L,z as D,S as j,E as F,H as N,R as M,J as U,N as B,K as W,O as G,P as $,Q as q,U as H}from"./vendor-12af30a3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const K={},V=function(e,t,r){if(!t||0===t.length)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in K)return;K[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!r)for(let r=n.length-1;r>=0;r--){const a=n[r];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((t,r)=>{o.addEventListener("load",t),o.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))};var X=(e=>(e.SET_ERROR="set-error",e.SET_LOGIN="set-login",e.SET_USER="set-user",e.SET_USERNAME="set-username",e.SET_LOADING="set-loading",e.SET_PLAYERS="set-players",e.SET_JUNIORS="set-juniors",e))(X||{});const Y={error:"",username:"",user:null,loggedIn:!1,loading:!1,playersData:[],juniorsData:[]};function J(e=Y,t){switch(t.type){case"set-error":return{...e,error:t.payload};case"set-username":return{...e,username:t.payload};case"set-login":return{...e,loggedIn:t.payload};case"set-user":return{...e,user:t.payload};case"set-loading":return{...e,loading:t.payload};case"set-players":return{...e,playersData:t.payload};case"set-juniors":return{...e,juniorsData:t.payload};default:return e}}const Q=e.createContext({state:Y,dispatch:()=>null}),Z=({children:r})=>{const[n,a]=e.useReducer(J,Y);return t(Q.Provider,{value:{state:n,dispatch:a},children:r})},ee=(e,t)=>{e({type:X.SET_ERROR,payload:t})},te=(e,t)=>{e({type:X.SET_USERNAME,payload:t})},re=(e,t)=>{e({type:X.SET_LOGIN,payload:t})},ne=(e,t)=>e({type:X.SET_LOADING,payload:t}),ae="application/json",oe=r.create({baseURL:"/api/v1",headers:{Accept:ae,"Content-Type":ae,"X-Forwarded-Host":"https://sokker.org"}}),ie=(e,t)=>oe.post("/login",e,{headers:{"X-Forwarded-For":`${t}, https://sokker.org`}}),le=(e,t)=>oe.get("/logout",{params:{login:e},headers:{"X-Forwarded-For":`${t}, https://sokker.org`}}),se=async()=>(await r.get("https://geolocation-db.com/json/")).data.IPv4;function ce(){const[t,r]=e.useState("");return console.log("ðŸš€ ~ ip:",t),e.useEffect((()=>{(async()=>{const e=await se();r(e)})()}),[t]),t}function de(){const{state:r,dispatch:g}=e.useContext(Q),{loading:f}=r,y=ce(),[x,b]=e.useState(!1);e.useEffect((()=>{console.log("ðŸš€ ~ state:",r)}),[r]);return t(n,{component:"main",maxWidth:"xs",children:a(o,{sx:{marginTop:8,display:"flex",alignItems:"center",flexDirection:"column"},children:[t(i,{sx:{m:1,bgcolor:"secondary.main"},children:t(l,{})}),t(s,{component:"h1",variant:"h5",children:"Sign in"}),a(o,{component:"form",onSubmit:async e=>{e.preventDefault();const t=new FormData(e.currentTarget);ne(g,!0);const r=await ie({login:t.get("email"),password:t.get("password"),remember:x},y);ne(g,!1);const{status:n,statusText:a,data:o}=r;console.log("ðŸš€ ~ response:",r),200===n&&"OK"===a?(re(g,!0),te(g,o.data||"")):ee(g,(null==o?void 0:o.error)||a)},noValidate:!0,sx:{mt:1},children:[t(c,{required:!0,fullWidth:!0,autoFocus:!0,id:"email",name:"email",margin:"normal",label:"Email Address",autoComplete:"email"}),t(c,{required:!0,fullWidth:!0,id:"password",margin:"normal",name:"password",type:"password",label:"Password",autoComplete:"current-password"}),t(d,{label:"Remember me",control:t(h,{color:"primary",checked:x,onChange:e=>{b(e.target.checked)}})}),t(u,{fullWidth:!0,type:"submit",loading:f,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),a(p,{container:!0,children:[t(p,{item:!0,xs:!0,children:t(m,{href:"https://sokker.org/en/app/reset-password/",variant:"body2",children:"Forgot password?"})}),t(p,{item:!0,children:t(m,{href:"https://sokker.org/en/app/register/",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})})}function he(){return a(s,{variant:"body2",color:"text.secondary",children:["Copyright Â© ",t(m,{color:"inherit",href:"https://mui.com/",children:"Sokker Cuba"})," ",(new Date).getFullYear(),"."]})}function ue(){return a(o,{sx:{mt:"auto",width:"100%",display:"flex",flexDirection:"column"},children:[t(n,{component:"main",sx:{my:8},maxWidth:"sm",children:t(o,{sx:{display:"flex",justifyContent:"center"},children:t(s,{variant:"h2",component:"h1",gutterBottom:!0,children:"Footer"})})}),t(o,{component:"footer",sx:{py:3,px:2,mt:"auto",backgroundColor:e=>"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[800]},children:a(n,{maxWidth:"sm",children:[t(s,{variant:"body1",children:"La vieja escuela del Sokker Cubano! Dudas, Consultas, pregunte sin pena! Si desea aÃ±adir a alguien pase el link del grupo."}),t(he,{})]})})]})}const pe={}.API_USER,me={}.API_PASSW;function ge(){const{state:r,dispatch:n}=e.useContext(Q),{username:l}=r,c=ce(),[d,h]=e.useState(null),u=Boolean(d),p=()=>{h(null)};return a(f,{children:[a(o,{sx:{ml:"8px",display:"flex",textAlign:"center",alignItems:"center"},children:[a(s,{variant:"h6",component:"div",sx:{flexGrow:1},children:["Hello ",l]}),t(y,{title:"Account settings",children:t(x,{onClick:e=>{h(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":u?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":u?"true":void 0,children:t(i,{sx:{width:32,height:32},children:"M"})})})]}),a(b,{anchorEl:d,id:"account-menu",open:u,onClose:p,onClick:p,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[a(w,{onClick:p,children:[t(i,{})," Profile"]}),a(w,{onClick:p,children:[t(i,{})," My account"]}),t(v,{}),a(w,{onClick:p,children:[t(S,{children:t(k,{fontSize:"small"})}),"Add another account"]}),a(w,{onClick:p,children:[t(S,{children:t(E,{fontSize:"small"})}),"Settings"]}),a(w,{onClick:async()=>{h(null),ne(n,!0);const e=await le(l,c);ne(n,!1),console.log("ðŸš€ ~ handleLogoutData:",e);const{status:t,statusText:r,data:a}=e;200===t&&"OK"===r?(re(n,!1),te(n,"")):ee(n,(null==a?void 0:a.error)||r)},children:[t(S,{children:t(C,{fontSize:"small"})}),"Logout"]})]})]})}g.Buffer.from(pe+":"+me).toString("base64"),_("div")((({theme:e})=>({padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}))),_(T)((({theme:e})=>({color:"inherit","& .MuiInputBase-input":{padding:e.spacing(1,1,1,0),paddingLeft:`calc(1em + ${e.spacing(4)})`,transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("md")]:{width:"20ch"}}})));const fe=()=>{const{state:r}=e.useContext(Q),{loggedIn:n}=r,[i,l]=e.useState(null),[c,d]=e.useState(null),h=Boolean(i),u=Boolean(c),p=()=>{d(null)},m=()=>{l(null),p()},g=a(b,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:m,children:[t(w,{onClick:m,children:"Profile"}),t(w,{onClick:m,children:"My account"})]}),y="primary-search-account-menu-mobile",v=a(b,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:y,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:p,children:[a(w,{children:[t(x,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:t(z,{badgeContent:4,color:"error",children:t(R,{})})}),t("p",{children:"Messages"})]}),a(w,{children:[t(x,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:t(z,{badgeContent:17,color:"error",children:t(A,{})})}),t("p",{children:"Notifications"})]}),a(w,{onClick:e=>{l(e.currentTarget)},children:[t(x,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:t(D,{})}),t("p",{children:"Profile"})]})]});return a(o,{sx:{flexGrow:1},children:[t(P,{position:"static",children:a(I,{children:[t(x,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",sx:{mr:2},children:t(O,{})}),t(s,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:"Sokker Cuba"}),t(o,{sx:{flexGrow:1}}),n&&a(f,{children:[a(o,{sx:{display:{xs:"none",md:"flex"}},children:[t(x,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:t(z,{badgeContent:4,color:"error",children:t(R,{})})}),t(x,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:t(z,{badgeContent:17,color:"error",children:t(A,{})})}),t(ge,{})]}),t(o,{sx:{display:{xs:"flex",md:"none"}},children:t(x,{size:"large","aria-label":"show more","aria-controls":y,"aria-haspopup":"true",onClick:e=>{d(e.currentTarget)},color:"inherit",children:t(L,{})})})]})]})}),v,g]})},ye=()=>a(j,{spacing:1,children:[t(F,{variant:"text",sx:{fontSize:"1rem"}}),a(o,{sx:{display:"flex",justifyContent:"space-between"},children:[t(F,{variant:"circular",width:40,height:40}),t(F,{variant:"circular",width:40,height:40})]}),t(F,{variant:"rectangular",width:210,height:60}),t(F,{variant:"rounded",width:210,height:60})]}),xe=()=>{const r=ce(),{state:n,dispatch:a}=e.useContext(Q);return console.log("ðŸš€ ~ state:",n),e.useEffect((()=>{r&&(async()=>{ne(a,!0);const e=await(e=>oe.get("/current",{headers:{"X-Forwarded-For":`${e}, https://sokker.org`}}))(r);ne(a,!1);const{status:t,statusText:n,data:o}=e;200===t&&"OK"===n?((e,t)=>{e({type:X.SET_USER,payload:t})})(a,o):ee(a,(null==o?void 0:o.error)||n)})()}),[r]),t("div",{children:"Hello HomePage"})},be=()=>{const{state:r}=e.useContext(Q),{loggedIn:n}=r;return t(n?xe:de,{})},we=e.lazy((()=>V((()=>import("./AboutPage-813fb07e.js")),["assets/AboutPage-813fb07e.js","assets/vendor-12af30a3.js"]))),ve=e.lazy((()=>V((()=>import("./ContactPage-4de02acb.js")),["assets/ContactPage-4de02acb.js","assets/vendor-12af30a3.js"]))),Se=e.lazy((()=>V((()=>import("./NotFoundPage-99ac996d.js")),["assets/NotFoundPage-99ac996d.js","assets/vendor-12af30a3.js"]))),ke=({children:r})=>t(e.Suspense,{fallback:t(ye,{}),children:r}),Ee=()=>a(N,{children:[t(fe,{}),t(o,{sx:{display:"flex",flexDirection:"column",height:"100vh"},children:a(M,{children:[t(U,{path:"/",element:t(be,{})}),t(U,{path:"/about",element:t(ke,{children:t(we,{})})}),t(U,{path:"/contact",element:t(ke,{children:t(ve,{})})}),t(U,{path:"/404",element:t(ke,{children:t(Se,{})})}),t(U,{path:"*",element:t(B,{to:"/404"})})]})}),t(ue,{})]}),Ce=W(),_e=()=>t(Z,{children:a(G,{theme:Ce,children:[t($,{}),t(Ee,{})]})});q.createRoot(document.getElementById("root")).render(t(H.StrictMode,{children:t(_e,{})}));
